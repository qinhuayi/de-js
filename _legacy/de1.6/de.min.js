String.prototype.trim = function () { var a = this, a = a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""); return a }, Array.prototype.each = function (a) { var c, b = this; if ("function" == typeof a) for (c = 0; c < b.length; c++) a.call(b[c], c, b[c]) }, Array.prototype.exists = function (a) { var c, b = this; for (c = 0; c < b.length; c++) if (a === b[c]) return !0; return !1 }, Array.prototype.indexOf = function (a) { var c, b = this; for (c = 0; c < b.length; c++) if (a === b[c]) return c; return -1 }, Date.prototype.toObject = function () { var a = this, b = "January February March April May June July August September October November December".split(" "), c = "Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "); return { Y: a.getFullYear(), M: a.getMonth(), D: a.getDate(), W: a.getDay(), h: a.getHours(), m: a.getMinutes(), s: a.getSeconds(), f: a.getMilliseconds(), month: b[a.getMonth()], week: c[a.getDay()], value: a.valueOf() } }, Date.prototype.toString = function (a) { var b = this, c = function (a, b) { for (var c = "" + a; c.length < b;) c = "0" + c; return c }, d = b.toObject(), e = c(d.Y, 4), f = c(d.M + 1, 2), g = c(d.D, 2), h = d.h < 12, i = c(d.h, 2), j = c(d.m, 2), k = c(d.s, 2), l = c(d.f, 3), m = void 0 !== typeof a && a ? a : "yyyy-MM-DD hh:mm:ss fff"; return m = m.replace(/yyyy|YYYY/g, e).replace(/yy|YY/g, e.substr(2)), m = m.replace(/month|MONTH|Month/g, d.month).replace(/(mon|MON|Mon)\b/g, d.month.substr(0, 3)).replace(/(mo|MO|Mo)\b/g, d.month.substr(0, 2)), m = m.replace(/MM/g, f).replace(/\bM\b/g, d.M + 1), m = m.replace(/week|WEEK|Week/g, d.week).replace(/(wee|WEE|Wee)\b/g, d.week.substr(0, 3)).replace(/\b(we|WE|We)\b/g, d.week.substr(0, 2)).replace(/\b(w|W)\b/g, d.W), m = m.replace(/dd|DD/g, g).replace(/\b(D|d)\b/g, d.D), m = m.replace(/am|AM|pm|PM/g, h ? "AM" : "PM"), m = m.replace(/hh|HH/g, /am|AM|pm|PM/.test(a) ? c(d.h >= 12 ? d.h - 12 : d.h, 2) : i).replace(/\b(h|H)\b/g, /am|AM|pm|PM/.test(a) ? d.h >= 12 ? d.h - 12 : d.h : d.h), m = m.replace(/mm/g, j).replace(/min|MIN|Min/g, j).replace(/mi|MI|Mi/g, j).replace(/\bm\b/g, d.m), m = m.replace(/ss|SS/g, k).replace(/\b(s|S)\b/g, d.s), m = m.replace(/fff|FFF/g, l).replace(/ff|FF/g, l.substr(0, 2)).replace(/\b(f|F)\b/g, l.substr(0, 1)) }, Date.prototype.fromString = function (a, b) { var g, h, i, j, k, l, m, n, c = this, d = { initial: function () { var c, a = {}, b = { YYYY: "[0-9]{4}", YY: "[0-9]{2}", month: "(?:January|February|March|April|May|June|July|August|September|October|November|December)", mon: "\\b(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\b", mo: "\\b(?:Ja|Fe|Ma|Ap|Ma|Ju|Ju|Au|Se|Oc|No|De)\\b", MM: "(?:0[1-9]|1[0-2])\\b", M: "\\b(?:[1-9]|1[0-2])\\b", week: "(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday)", wee: "(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)", we: "(?:Mo|Tu|We|Th|Fr|Sa|Su)", W: "\\b[0-6]\\b", DD: "(?:[0-2][0-9]|3[0-1])", D: "\\b(?:[1-9]|[1-2][0-9]|3[0-1])\\b", AM: "(?:am|AM|pm|PM)", hh: "[0-2][0-9]", h: "\\b(?:[0-9]|1[0-9]|2[0-9])\\b", mm: "[0-5][0-9]", m: "\\b(?:[0-9]|[1-5][0-9])\\b", ss: "[0-5][0-9]", s: "\\b(?:[0-9]|[1-5][0-9])\\b", fff: "[0-9]{3}", ff: "[0-9]{2}", f: "[0-9]" }; if (void 0 === d.expr) { for (c in b) a[c] = b[c], a["$" + c] = "(" + b[c] + ")"; d.expr = a } return !0 }, build: function (a, b) { var c = void 0 !== b ? b.toLowerCase() : "", e = d.initial() ? d.expr : null, f = a; return f = "y" == c ? f.replace(/yyyy|YYYY/g, e.$YYYY).replace(/yy|YY/g, e.$YY) : f.replace(/yyyy|YYYY/g, e.YYYY).replace(/yy|YY/g, e.YY), f = "month" == c ? f.replace(/month|MONTH|Month/g, e.$month).replace(/(mon|MON|Mon)\b/g, e.$mon).replace(/(mo|MO|Mo)\b/g, e.$mo) : f.replace(/month|MONTH|Month/g, e.month).replace(/(mon|MON|Mon)\b/g, e.mon).replace(/(mo|MO|Mo)\b/g, e.mo), f = "M" == b ? f.replace(/MM/g, e.$MM).replace(/\bM\b/g, e.$M) : f.replace(/MM/g, e.MM).replace(/\bM\b/g, e.M), f = f.replace(/week|WEEK|Week/g, e.week).replace(/(wee|WEE|Wee)\b/g, e.wee).replace(/\b(we|WE|We)\b/g, e.we).replace(/\b(w|W)\b/g, e.W), f = "d" == c ? f.replace(/dd|DD/g, e.$DD).replace(/\b(D|d)\b/g, e.$D) : f.replace(/dd|DD/g, e.DD).replace(/\b(D|d)\b/g, e.D), f = "am" == c ? f.replace(/am|AM|pm|PM/g, e.$AM) : f.replace(/am|AM|pm|PM/g, e.AM), f = "h" == c ? f.replace(/hh|HH/g, e.$hh).replace(/\b(h|H)\b/g, e.$h) : f.replace(/hh|HH/g, e.hh).replace(/\b(h|H)\b/g, e.h), f = "m" == b ? f.replace(/min|MIN|Min|mi|MI|Mi|mm/g, e.$mm).replace(/\bm\b/g, e.$m) : f.replace(/min|MIN|Min|mi|MI|Mi|mm/g, e.mm).replace(/\bm\b/g, e.m), f = "s" == c ? f.replace(/ss|SS/g, e.$ss).replace(/\b(s|S)\b/g, e.$s) : f.replace(/ss|SS/g, e.ss).replace(/\b(s|S)\b/g, e.s), f = "f" == c ? f.replace(/fff|FFF/g, e.$fff).replace(/ff|FF/g, e.$ff).replace(/\b(f|F)\b/g, e.$f) : f.replace(/fff|FFF/g, e.fff).replace(/ff|FF/g, e.$ff).replace(/\b(f|F)\b/g, e.f), RegExp(f, "g") } }, e = { checkformat: function (a) { var b = /yyyy|YYYY/.test(a) || /yy|YY/.test(a); return b = b && (/month|MONTH|Month/.test(a) || /(mon|MON|Mon)\b/.test(a) || /(mo|MO|Mo)\b/.test(a) || /MM/.test(a) || /\bM\b/.test(a)), b && (/dd|DD/.test(a) || /\b(D|d)\b/.test(a)) }, checkInput: function (a, b) { var c = d.build(b); return c.test(a) } }, f = { readString: function (a, b, c) { var e = d.build(a, c), f = e.exec(b); return f && RegExp.$1 ? RegExp.$1 : null }, readNumber: function (a, b, c) { var d = f.readString(a, b, c); return d ? parseInt(d) : null }, readYear: function (a, b) { var c = f.readNumber(a, b, "y"); return c && 99 >= c ? c + 2e3 : c }, readMonth: function (a, b) { var d, c = f.readNumber(a, b, "M"); return c ? c - 1 : (d = f.readString(a, b, "month"), c = "January February March April May June July August September October November December".split(" ").indexOf(d), c = -1 == c ? "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ").indexOf(d) : c, c = -1 == c ? "Ja Fe Ma Ap Ma Ju Ju Au Se Oc No De".split(" ").indexOf(d) : c) }, readDay: function (a, b) { return f.readNumber(a, b, "d") }, readHour: function (a, b) { var c = f.readString(a, b, "am"), d = f.readNumber(a, b, "h"); return "PM" === c && d && 12 > d ? d + 12 : d }, readMinute: function (a, b) { return f.readNumber(a, b, "m") }, readSecond: function (a, b) { return f.readNumber(a, b, "s") }, readMillisecond: function (a, b) { return f.readNumber(a, b, "f") } }; return void 0 === b ? (g = new Date(Date.parse(a)), c.setTime(g.getTime()), g) : "string" == typeof b && e.checkformat(b) && e.checkInput(a, b) && (h = f.readYear(b, a), i = f.readMonth(b, a), j = f.readDay(b, a), k = f.readHour(b, a), l = f.readMinute(b, a), m = f.readSecond(b, a), n = f.readMillisecond(b, a), h && (0 === i || i) && j) ? (k = k ? k : 0, l = l ? l : 0, m = m ? m : 0, n = n ? n : 0, g = new Date(h, i, j, k, l, m, n), c.setTime(g.getTime()), g) : (c.setTime(0), 0 / 0) }, Date.prototype.add = function (a, b) { var c = this, d = function (a, b) { var d = c.toObject(); switch (a.toLowerCase()) { case "f": return new Date(d.value + b); case "s": return new Date(d.value + 1e3 * b); case "m": return "M" == a ? new Date(d.Y, d.M + b, d.D, d.h, d.m, d.s, d.f) : new Date(d.value + 6e4 * b); case "h": return new Date(d.value + 36e5 * b); case "d": return new Date(d.value + 864e5 * b); case "w": return new Date(d.value + 6048e5 * b); case "y": return new Date(d.Y + b, d.M, d.D, d.h, d.m, d.s, d.f) } return null }, e = "string" == typeof a ? a.charAt(0) : "", f = d(e, b); return f }, Date.prototype.diff = function (a, b) { var c = this, b = "string" == typeof b ? (new Date).fromString(b) : b, d = parseInt(b - c), e = "string" == typeof a ? a.charAt(0) : ""; switch (e.toLowerCase()) { case "f": return d; case "s": return parseInt(d / 1e3); case "m": return "M" == a ? 12 * (b.getFullYear() - c.getFullYear()) + b.getMonth() - c.getMonth() : parseInt(d / 6e4); case "h": return parseInt(d / 36e5); case "d": return parseInt(d / 864e5); case "w": return parseInt(d / 6048e5); case "y": return b.getFullYear() - c.getFullYear() } return null }, function (a, b, c) { var d = [], e = function (a, b, d) { if ("string" == typeof b) { if (d === c) { var e = a.getAttribute(b); return e || (a[b] === c ? e : a[b]) } a.setAttribute(b, d) } return a }, f = function (a, b) { var c = "ARTICLE ASIDE BODY CANVAS CENTER DIALOG DIR DIV FIELDSET FOOTER FORM HEADER H1 H2 H3 H4 H5 H6 HR IFRAME LEGEND MARQUEE MENU NAV OBJECT OL OPTGROUP OPTION OUTPUT P PRE SECTION TABLE UL".split(" "), d = "A ABBR ADDRESS B BDO BIG BLOCKQUOTE BR BUTTON CITE CODE COMMAND DEL DETAIL DFN EM FIGURE FONT I IMG INPUT INS KBD LABEL M METER PLAINTEXT PROGRESS Q QUOTE S SAMP SELECT SMALL SPAN STRIKE STRONG SUB SUP TEXTAREA TT U VAR".split(" "), f = "AREA AUDIO DATAGRID DATALIST DATATEMPLATE EMBED EVENT-SOURCE FRAME FRAMESET HEAD HTML LISTING MAP META NEST NOFRAMES NOSCRIPT PARAM RULE SCRIPT SOURCE STYLE nextID".split(" "), g = ["DD", "DT", "LI"], h = ["TABLE"], j = ["CAPTION"], k = ["TD", "TH"], l = ["TR"], m = ["TBODY"], n = ["COL"], o = ["COLGROUP"], p = ["THEAD"], q = ["TFOOT"]; return c.exists(a.tagName) ? a.css("display", b ? "block" : "none") : d.exists(a.tagName) ? a.css("display", b ? "inline" : "none") : g.exists(a.tagName) ? a.css("display", b ? "list-item" : "none") : h.exists(a.tagName) ? a.css("display", b ? "table" : "none") : j.exists(a.tagName) ? a.css("display", b ? "table-caption" : "none") : k.exists(a.tagName) ? a.css("display", b ? "table-cell" : "none") : l.exists(a.tagName) ? a.css("display", b ? "table-row" : "none") : m.exists(a.tagName) ? a.css("display", b ? "table-row-group" : "none") : n.exists(a.tagName) ? a.css("display", b ? "table-column" : "none") : o.exists(a.tagName) ? a.css("display", b ? "table-column-group" : "none") : p.exists(a.tagName) ? a.css("display", b ? "table-header-group" : "none") : q.exists(a.tagName) ? a.css("display", b ? "table-footer-group" : "none") : f.exists(a.tagName) ? a : a }, g = function (a) { var f, b = function (a, b, c, d) { for (var e = 0; e < a.length; e++) a[e][b](c, d); return a }, d = a !== c && a ? a : []; return d.bind = function (a, c) { return b(d, "bind", a, c) }, d.unbind = function (a, c) { return b(d, "unbind", a, c) }, d.attr = function (a, c) { return b(d, "attr", a, c) }, d.removeAttr = function (a) { return b(d, "removeAttr", a) }, d.val = function (a) { return b(d, "val", a) }, d.html = function (a) { return b(d, "html", a) }, d.text = function () { return b(d, "text", text) }, d.css = function (a, c) { return b(d, "css", a, c) }, d.show = function () { return b(d, "show") }, d.hide = function () { return b(d, "hide") }, d.removeClass = function (a) { return b(d, "removeClass", a) }, d.addClass = function (a) { return b(d, "addClass", a) }, d.append = function (a) { return b(d, "append", a) }, d.insert = function (a, c) { return b(d, "insert", a, c) }, d.tags = function () { throw "Not support!" }, f = function (a) { var d, f, b = ""; for (d = 0; d < a.length; d++) f = e(a[d], "checked"), a[d].value !== c && (a[d].checked !== c && a[d].checked || "true" == f) && (b += ("" == b ? "" : ",") + a[d].value); return b }, d.value = f(a), d.each = function (a) { for (var b = 0; b < d.length; b++) "function" == typeof a && a(b, d[b]) }, d }, h = function (a, b) { var c = [], d = function () { var a = function (a) { return a + Math.floor(1e5 * Math.random()) }; return { insideComma: a("@insideComma"), outsideComma: a("@outsideComma"), slash: a("@slash"), backSlash: a("@backSlash"), leftSquareBracket: a("@leftSquareBracket"), rightSquareBracket: a("@rightSquareBracket"), singleQuotes: a("@singleQuotes"), doubleQuotes: a("@doubleQuotes") } }, f = d(), h = function (a) { var b = a.match(/('[^']+')|("[^"]+")/g); return b && b.each(function (b, c) { var d = c.substr(1, c.length - 2).replace(/\,/g, f.insideComma).replace(/\\/g, f.slash).replace(/\//g, f.backSlash).replace(/\[/g, f.leftSquareBracket).replace(/\]/g, f.rightSquareBracket).replace(/'/g, f.singleQuotes).replace(/"/g, f.doubleQuotes); a = a.replace(c, d) }), b = a.match(/\[([^\]]+)\]/g), b && b.each(function (b, c) { var d = c.replace(/\,/g, f.outsideComma); a = a.replace(c, d) }), a }, j = function (a) { var b = function (a) { return RegExp(a, "g") }; return a.replace(b(f.insideComma), ",").replace(b(f.outsideComma), ",").replace(f.slash, "\\").replace(f.backSlash, "/").replace(b(f.leftSquareBracket), "[").replace(b(f.rightSquareBracket), "]").replace(b(f.singleQuotes), "'").replace(b(f.doubleQuotes), '"') }, k = h(b).split(","), l = function (a, b) { var d, c = []; for (d = 0; d < a.childNodes.length; d++) !!a.childNodes[d].tagName && a.childNodes[d].tagName.toUpperCase() == b.toUpperCase() && c.push(a.childNodes[d]); return c }, m = function (a, b) { var d, e, f, g, h, j, c = []; if (/^(\\?\w+)(\.\w+)?(\[[^\]]+\])?$/gi.test(b.trim())) for (d = "\\" == RegExp.$1.charAt(0), e = d ? RegExp.$1.substring(1) : RegExp.$1, f = RegExp.$2 ? RegExp.$2.replace(".", "") : "", g = RegExp.$3, h = d ? a.getElementsByTagName(e.toUpperCase()) : l(a, e), j = 0; j < h.length; j++) f && !n(h[j], f) || g && !p(h[j], g) || c.push(i(h[j])); return c }, n = function (a, b) { return (" " + a.className + " ").indexOf(" " + b + " ") >= 0 }, o = function (a, b) { var c = "", d = null, f = function (f) { if (b.indexOf(f) > 0) { var g = b.split(f); return d = e(a, g[0]), /(^'[^']+'$)|(^"[^"]+"$)/g.test(g[1]) ? (c = g[1].substr(1, g[1].length - 2), c = j(c)) : c = g[1], !0 } return !1 }; return f("*=") ? d && d.indexOf(c) >= 0 : f("~=") ? !d || d.indexOf(c) < 0 : f("$=") ? d && d.lastIndexOf(c) == d.length - c.length : f("^=") ? d && 0 == d.indexOf(c) : f("!=") ? d != c : f("==") ? d && d == c : f("=") ? d && d == c : "" != b ? !!e(a, b) : !1 }, p = function (a, b) { b = b.substr(1, b.length - 2); var c = !0, d = b.indexOf(f.outsideComma) >= 0 ? b.split(f.outsideComma) : b.split(","); return d.each(function (b, d) { c = c && o(a, d.trim()) }), c }; return k.each(function (b, d) { var h, i, e = [a], f = [], g = d.replace(/\\/g, "/").replace(/\/\//g, "/\\").split(/\//g); for (h = 0; h < g.length; h++) { for (i = 0; i < e.length; i++) f = f.concat(m(e[i], (0 == h ? "\\" : "") + g[h])); h < g.length - 1 && (e = f) && (f = []) } f.each(function (a, b) { !c.exists(b) && c.push(b) }) }), g(c) }, i = function (a, b) { a.bind = function (b, d) { return a.attachEvent ? a.attachEvent("on" + b, d) : a.addEventListener ? a.addEventListener(b, d, !1) : a && a !== c && (a[b] = d), a }, a.unbind = function (b, c) { return a.detachEvent ? a.detachEvent("on" + b, c) : a.addEventListener ? a.removeEventListener(b, c, !1) : a[b] = null, a }, a.attr = function (b, c) { return e(a, b, c) }, a.removeAttr = function (b) { return a.removeAttribute(b) || a }, a.val = function (b) { return b === c ? a.value : 0 & (a.value = b) || a }, c === a.html && (a.html = function (b) { return b === c ? a.innerHTML : 0 & (a.innerHTML = b) || a }); var d = "function" == typeof a.getAttribute ? a.getAttribute("text") : null; return !d && "" !== d && c === a.text && (a.text = function (b) { return "string" == typeof a.innerText ? b === c ? a.innerText : 0 & (a.innerText = b) || a : "string" == typeof a.textContent ? b === c ? a.textContent : 0 & (a.textContent = b) || a : a }), a.css = function (b, d) { if ("string" == typeof b && d !== c) a.style[b] = d; else if ("string" == typeof b) return a.currentStyle[b]; return a }, a.pos = function () { var f, g, h, i, b = 0, d = 0, e = a; if (e && "function" == typeof e.getBoundingClientRect) f = e.getBoundingClientRect(), g = e.ownerDocument, h = g.body, i = g.documentElement, i.clientTop || h.clientTop || 0, i.clientLeft || h.clientLeft || 0, b = f.left + (self.pageXOffset || e && e.scrollLeft || h.scrollLeft), d = f.top + (self.pageYOffset || e && e.scrollTop || h.scrollTop); else for (; e && (!e.tagName || "BODY" !== e.tagName.toUpperCase()) ;) b += e.offsetLeft === c ? 0 : parseInt(e.offsetLeft), d += e.offsetTop === c ? 0 : parseInt(e.offsetTop), e = e.offsetParent; return { x: b, y: d } }, a.show = function () { return f(a, !0) }, a.hide = function () { return f(a, !1) }, a.removeClass = function (b) { return "string" == typeof b && (a.className = (" " + a.className + " ").replace(" " + b.trim() + " ", " ").trim()), a }, a.addClass = function (b) { return "string" == typeof b && (a.removeClass(a, b), a.className = a.className + " " + b.trim()), a }, a.append = function (d) { return d !== c && d && (d = "string" == typeof d ? b.createTextNode(d) : d, (1 == d.nodeType || 3 == d.nodeType) && a.appendChild(d)), a }, a.insert = function (d, e) { return d !== c && d && (d = "string" == typeof d ? b.createTextNode(d) : d, (1 == d.nodeType || 3 == d.nodeType) && (e === c ? a.childNodes && a.childNodes.length > 0 ? a.insertBefore(d, a.childNodes[0]) : a.appendChild(d) : "number" == typeof e ? a.childNodes && a.childNodes.length > 0 ? a.insertBefore(d, a.childNodes[e]) : a.appendChild(d) : "object" == typeof e && e.nodeType !== c && a.insertBefore(d, e))), a }, a.tags = function (b) { return h(a, b) }, a._de = !0, a }, j = function (a) { var h, j, k, l, m, n, o, p, q, d = arguments[1] === c ? b : "object" == typeof arguments[1] && "#document" == arguments[1].nodeName ? arguments[1] : null, f = { createReplacement: function () { var a = function (a) { return a + Math.floor(1e5 * Math.random()) }; return { blank: a("_blank"), singleQuotes: a("_singleQuotes"), doubleQuotes: a("_doubleQuotes") } }, replace: function (a, b) { var c = a.match(/('[^']+')|("[^"]+")/g); return c && c.each(function (c, d) { var e = d.substr(1, d.length - 2).replace(/ /g, b.blank).replace(/'/g, b.singleQuotes).replace(/"/g, b.doubleQuotes); a = a.replace(d, e) }), a.replace(/[ ]+/g, " ") }, restore: function (a, b) { var c = function (a) { return RegExp(a, "g") }; return a.replace(c(b.blank), " ").replace(c(b.singleQuotes), "'").replace(c(b.doubleQuotes), '"') } }, g = f.createReplacement(); if ("string" == typeof a && /^<\w+[ ]?.*>$/.test(a)) { for (h = a.substring(1, a.length - 1), j = f.replace(h, g), k = j.split(" "), l = d.createElement(k[0]), m = 1; m < k.length; m++) n = k[m], o = n.indexOf("="), p = o > 0 ? n.substr(0, o) : n, q = o > 0 ? n.substr(o + 1) : "", q = o > 0 ? "" != q ? f.restore(q, g) : q : !0, /^[a-zA-Z_-]+$/i.test(p) && e(l, p, q); return i(l) } }, k = function () { var a, b; if (arguments.length > 0) { for (a = arguments[0], b = 0; b < arguments.length - 1; b++) a = a.replace(RegExp("\\{" + b + "\\}", "g"), arguments[b + 1]); return a } return null }, l = function (a, d) { if ("string" != typeof a || "" == a) return ""; if (c === d || 0 === d) return a.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;"); if (1 === d) { var e = j("<p>").appendChild(b.createTextNode(a)); return e.parentNode.innerHTML } return 2 === d ? a.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/</g, "&lt;") : 3 === d ? a.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;").replace(/>/g, "&#62;") : c }, m = function (a, b) { if ("string" != typeof a || "" == a) return ""; if (c === b || 0 === b) return a.replace(/&gt;/g, ">").replace(/&lt;/g, "<").replace(/&apos;/g, "'").replace(/&quot;/g, '"').replace(/&amp;/g, "&"); if (1 === b) { var d = j("<p>").html(a); return d.innerText || d.textContent } return 2 === b ? a.replace(/&lt;/g, "<").replace(/&quot;/g, '"').replace(/&amp;/g, "&") : 3 === b ? a.replace(/&#38;/g, "&").replace(/&#34;/g, '"').replace(/&#39;/g, "'").replace(/&#60;/g, "<").replace(/&#62;/g, ">") : c }, n = function (a) { var f, g, b = function (a) { var b = a.indexOf("="), c = b >= 0 ? a.substr(0, b) : a, d = b >= 0 ? a.substr(b + 1) : null; return { name: c, value: d } }, d = function (a, d) { var e, f; if ("string" == typeof d) { for (e = 0; e < a.length; e++) if (f = b(a[e]), f.name == d) return f.value; return c } }, e = { url: a, filePath: "", fileDir: "", fileName: "", fileShortName: "", fileExt: "", query: "", queryValue: function (a) { return d(e.query.split("&"), a) }, hasParam: function (a) { return 0 == e.query.indexOf(a + "=") || e.query.indexOf("&" + a + "=") >= 0 } }; return "string" == typeof a && a && (f = a.indexOf("?"), e.filePath = f > 0 ? a.substring(0, f) : a, e.query = f > 0 ? a.substr(f + 1) : "", g = Math.max(e.filePath.lastIndexOf("/"), e.filePath.lastIndexOf("\\")), e.fileDir = g > 0 ? e.filePath.substr(0, g) : "", e.fileName = g > 0 ? e.filePath.substr(g + 1) : e.filePath, f = e.fileName.lastIndexOf("."), e.fileShortName = f > 0 ? e.fileName.substr(0, f) : e.fileName, e.fileExt = f > 0 ? e.fileName.substring(f) : ""), e }, o = function (b) { var d = function () { }, e = { url: "#", method: "GET", data: "", async: !0, timeout: 15e3, ontimeout: d, headers: [{ name: "Content-Type", value: "application/x-www-form-urlencoded" }], onsuccess: d, onerror: d }, f = function (a, b) { for (var d in b) a[d] = a[d] === c ? b[d] : a[d]; return a.headers.each(function (b, d) { return "content-type" == d.name.toLowerCase() ? a : c }), a.headers.push(b.headers[0]), a }, g = function () { var b = function () { var c, b = ["Msxml3.XMLHTTP", "Msxml2.XMLHTTP", "Microsoft.XMLHTTP"]; for (c = 0; c < b.length; c++) try { return new a.ActiveXObject(b[c]) } catch (d) { continue } return null }; return !a.XMLHttpRequest || "file:" === a.location.protocol && a.ActiveXObject ? b() : new a.XMLHttpRequest }, h = g(); b = f(b, e), h.open(b.method, b.url, b.async), b.headers.each(function (a, b) { h.setRequestHeader(b.name, b.value) }); try { h.timeout = b.timeout, h.ontimeout = b.ontimeout, h.onerror = b.onerror } catch (i) { } h.onreadystatechange = function () { 4 === h.readyState && b.onsuccess({ status: h.status, response: h.response, type: h.responseType, xml: h.responseXML, text: h.responseText, body: h.responseBody }) }, h.send(b.data) }; b.ready = function (a) { "function" == typeof a && d.push(a) }, a.onload = function () { d.each(function (a, c) { c.call(b) }) }, a.$e = function (a) { var f, h, k, d = arguments[1] === c ? b : "object" == typeof arguments[1] && "#document" == arguments[1].nodeName ? arguments[1] : null; if ("object" == typeof a && a) return 1 == a.nodeType || 3 == a.nodeType || a.nodeName == d.nodeName ? i(a, d) : null; if ("string" == typeof a) { if ("*" == a.charAt(0)) { for (f = d.getElementsByName(a.substr(1)), h = 0; h < f.length; h++) e(f[h], "_de") === !0 || i(f[h], d); return g(f) } return /^<\w+.*>$/.test(a) ? j(a, d) : (k = d.getElementById(a), k && 1 == k.nodeType ? e(k, "_de") === !0 ? k : i(k, d) : null) } }, a.$tags = function (a) { return $e(b.documentElement).tags(a) }, a.$t = a.$tags, a.$$ = { create: j, format: k, htmlEncode: l, htmlDecode: m, url2Object: n, ajax: o }, b.path = n(b.location.href) }(window, document);