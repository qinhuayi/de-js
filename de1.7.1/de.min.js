String.prototype.trim = function () { return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "") }, String.prototype.format = function () { var e = this.indexOf("{0}") >= 0; if (arguments.length > 0) { for (var t = e ? this : arguments[0], r = 0; r < arguments.length - (e ? 0 : 1); r++)t = t.replace(new RegExp("\\{" + r + "\\}", "g"), arguments[r + (e ? 0 : 1)]); return t } return null }, Array.prototype.each = function (e) { if ("function" == typeof e) for (var t = 0; t < this.length; t++)e.call(this[t], t, this[t]) }, Array.prototype.forEach = function (e) { if ("function" == typeof e) for (var t = 0; t < this.length; t++)e(this[t], t) }, Array.prototype.exists = function (e) { for (var t = 0; t < this.length; t++)if (e === this[t]) return !0; return !1 }, Array.prototype.indexOf = function (e) { for (var t = 0; t < this.length; t++)if (e === this[t]) return t; return -1 }, Array.prototype.remove = function (e) { return 1 | this.splice(e, 1) }, Date.prototype.toObject = function () { var e = this, t = "January February March April May June July August September October November December".split(" "), r = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "); return { Y: e.getFullYear(), M: e.getMonth(), D: e.getDate(), W: e.getDay(), h: e.getHours(), m: e.getMinutes(), s: e.getSeconds(), f: e.getMilliseconds(), month: t[e.getMonth()], week: r[e.getDay()], value: e.valueOf() } }, Date.prototype.toString = function (e) { var t = this, r = function (e, t) { for (var r = e.toString(); r.length < t;)r = "0" + r; return r }, n = t.toObject(), a = r(n.Y, 4), o = r(n.M + 1, 2), u = r(n.D, 2), s = n.h < 12, i = r(n.h, 2), l = r(n.m, 2), c = r(n.s, 2), f = r(n.f, 3), p = void 0 !== typeof e && e ? e : "yyyy-MM-DD hh:mm:ss fff"; return p = p.replace(/yyyy|YYYY/g, a).replace(/yy|YY/g, a.substr(2)), p = p.replace(/month|MONTH|Month/g, n.month).replace(/(mon|MON|Mon)\b/g, n.month.substr(0, 3)).replace(/(mo|MO|Mo)\b/g, n.month.substr(0, 2)), p = p.replace(/MM/g, o).replace(/\bM\b/g, n.M + 1), p = p.replace(/week|WEEK|Week/g, n.week).replace(/(wee|WEE|Wee)\b/g, n.week.substr(0, 3)).replace(/\b(we|WE|We)\b/g, n.week.substr(0, 2)).replace(/\b(w|W)\b/g, n.W), p = p.replace(/dd|DD/g, u).replace(/\b(D|d)\b/g, n.D), p = p.replace(/am|AM|pm|PM/g, s ? "AM" : "PM"), p = p.replace(/hh|HH/g, /am|AM|pm|PM/.test(e) ? r(n.h >= 12 ? n.h - 12 : n.h, 2) : i).replace(/\b(h|H)\b/g, /am|AM|pm|PM/.test(e) && n.h >= 12 ? n.h - 12 : n.h), p = p.replace(/mm/g, l).replace(/min|MIN|Min/g, l).replace(/mi|MI|Mi/g, l).replace(/\bm\b/g, n.m), p = p.replace(/ss|SS/g, c).replace(/\b(s|S)\b/g, n.s), p = p.replace(/fff|FFF/g, f).replace(/ff|FF/g, f.substr(0, 2)).replace(/\b(f|F)\b/g, f.substr(0, 1)) }, Date.prototype.fromString = function (e, t) { var r = this, n = { initial: function () { var e = {}, t = { YYYY: "[0-9]{4}", YY: "[0-9]{2}", month: "(?:January|February|March|April|May|June|July|August|September|October|November|December)", mon: "\\b(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\b", mo: "\\b(?:Ja|Fe|Ma|Ap|Ma|Ju|Ju|Au|Se|Oc|No|De)\\b", MM: "(?:0[1-9]|1[0-2])", M: "\\b(?:[1-9]|1[0-2])\\b", week: "(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday)", wee: "(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)", we: "(?:Mo|Tu|We|Th|Fr|Sa|Su)", W: "\\b[0-6]\\b", DD: "(?:[0-2][0-9]|3[0-1])", D: "\\b(?:[1-9]|[1-2][0-9]|3[0-1])\\b", AM: "(?:am|AM|pm|PM)", hh: "(?:[0-1][0-9]|2[0-3])", h: "\\b(?:[0-9]|1[0-9]|2[0-3])\\b", mm: "[0-5][0-9]", m: "\\b(?:[0-9]|[1-5][0-9])\\b", ss: "[0-5][0-9]", s: "\\b(?:[0-9]|[1-5][0-9])\\b", fff: "[0-9]{3}", ff: "[0-9]{2}", f: "[0-9]" }; if (void 0 === n.expr) { for (var r in t) e[r] = t[r], e["$" + r] = "(" + t[r] + ")"; n.expr = e } return !0 }, build: function (e, t) { var r = void 0 !== t ? t.toLowerCase() : "", a = n.initial() ? n.expr : null, o = e; return o = "y" == r ? o.replace(/yyyy|YYYY/g, a.$YYYY).replace(/yy|YY/g, a.$YY) : o.replace(/yyyy|YYYY/g, a.YYYY).replace(/yy|YY/g, a.YY), o = "month" == r ? o.replace(/month|MONTH|Month/g, a.$month).replace(/(mon|MON|Mon)\b/g, a.$mon).replace(/(mo|MO|Mo)\b/g, a.$mo) : o.replace(/month|MONTH|Month/g, a.month).replace(/(mon|MON|Mon)\b/g, a.mon).replace(/(mo|MO|Mo)\b/g, a.mo), o = "M" == t ? o.replace(/MM/g, a.$MM).replace(/\bM\b/g, a.$M) : o.replace(/MM/g, a.MM).replace(/\bM\b/g, a.M), o = o.replace(/week|WEEK|Week/g, a.week).replace(/(wee|WEE|Wee)\b/g, a.wee).replace(/\b(we|WE|We)\b/g, a.we).replace(/\b(w|W)\b/g, a.W), o = "d" == r ? o.replace(/dd|DD/g, a.$DD).replace(/\b(D|d)\b/g, a.$D) : o.replace(/dd|DD/g, a.DD).replace(/\b(D|d)\b/g, a.D), o = "am" == r ? o.replace(/am|AM|pm|PM/g, a.$AM) : o.replace(/am|AM|pm|PM/g, a.AM), o = "h" == r ? o.replace(/hh|HH/g, a.$hh).replace(/\b(h|H)\b/g, a.$h) : o.replace(/hh|HH/g, a.hh).replace(/\b(h|H)\b/g, a.h), o = "m" == t ? o.replace(/min|MIN|Min|mi|MI|Mi|mm/g, a.$mm).replace(/\bm\b/g, a.$m) : o.replace(/min|MIN|Min|mi|MI|Mi|mm/g, a.mm).replace(/\bm\b/g, a.m), o = "s" == r ? o.replace(/ss|SS/g, a.$ss).replace(/\b(s|S)\b/g, a.$s) : o.replace(/ss|SS/g, a.ss).replace(/\b(s|S)\b/g, a.s), o = "f" == r ? o.replace(/fff|FFF/g, a.$fff).replace(/ff|FF/g, a.$ff).replace(/\b(f|F)\b/g, a.$f) : o.replace(/fff|FFF/g, a.fff).replace(/ff|FF/g, a.$ff).replace(/\b(f|F)\b/g, a.f), new RegExp(o, "g") } }, a = { checkformat: function (e) { var t = /yyyy|YYYY/.test(e) || /yy|YY/.test(e); return (t = t && (/month|MONTH|Month/.test(e) || /(mon|MON|Mon)\b/.test(e) || /(mo|MO|Mo)\b/.test(e) || /MM/.test(e) || /\bM\b/.test(e))) && (/dd|DD/.test(e) || /\b(D|d)\b/.test(e)) }, checkInput: function (e, t) { return n.build(t).test(e) } }, o = { readString: function (e, t, r) { return n.build(e, r).exec(t) && RegExp.$1 ? RegExp.$1 : null }, readNumber: function (e, t, r) { var n = o.readString(e, t, r); return n ? parseInt(n, 10) : null }, readYear: function (e, t) { var r = o.readNumber(e, t, "y"); return r && r <= 99 ? r + 2e3 : r }, readMonth: function (e, t) { var r = o.readNumber(e, t, "M"); if (r) return r - 1; var n = o.readString(e, t, "month"); return r = "January February March April May June July August September October November December".split(" ").indexOf(n), r = -1 == r ? "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ").indexOf(n) : r, r = -1 == r ? "Ja Fe Ma Ap Ma Ju Ju Au Se Oc No De".split(" ").indexOf(n) : r }, readDay: function (e, t) { return o.readNumber(e, t, "d") }, readHour: function (e, t) { var r = o.readString(e, t, "am"), n = o.readNumber(e, t, "h"); return "PM" === r && n && n < 12 ? n + 12 : n }, readMinute: function (e, t) { return o.readNumber(e, t, "m") }, readSecond: function (e, t) { return o.readNumber(e, t, "s") }, readMillisecond: function (e, t) { return o.readNumber(e, t, "f") } }; if (void 0 === t) { var u = new Date(Date.parse(e)); return r.setTime(u.getTime()), u } if ("string" == typeof t && a.checkformat(t) && a.checkInput(e, t)) { var s = o.readYear(t, e), i = o.readMonth(t, e), l = o.readDay(t, e), c = o.readHour(t, e), f = o.readMinute(t, e), p = o.readSecond(t, e), g = o.readMillisecond(t, e); if (s && (0 === i || i) && l) { c = c || 0, f = f || 0, p = p || 0, g = g || 0; var u = new Date(s, i, l, c, f, p, g); return r.setTime(u.getTime()), u } } return r.setTime(0), NaN }, Date.prototype.add = function (e, t) { var r = this, n = "string" == typeof e ? e.charAt(0) : ""; return function (e, t) { var n = r.toObject(); switch (e.toLowerCase()) { case "f": return new Date(n.value + t); case "s": return new Date(n.value + 1e3 * t); case "m": return "M" == e ? new Date(n.Y, n.M + t, n.D, n.h, n.m, n.s, n.f) : new Date(n.value + 6e4 * t); case "h": return new Date(n.value + 36e5 * t); case "d": return new Date(n.value + 864e5 * t); case "w": return new Date(n.value + 6048e5 * t); case "y": return new Date(n.Y + t, n.M, n.D, n.h, n.m, n.s, n.f) }return null }(n, t) }, Date.prototype.diff = function (e, t) { var r = this, t = "string" == typeof t ? (new Date).fromString(t) : t, n = parseInt(t - r); switch (("string" == typeof e ? e.charAt(0) : "").toLowerCase()) { case "f": return n; case "s": return parseInt(n / 1e3); case "m": return "M" == e ? 12 * (t.getFullYear() - r.getFullYear()) + t.getMonth() - r.getMonth() : parseInt(n / 6e4); case "h": return parseInt(n / 36e5); case "d": return parseInt(n / 864e5); case "w": return parseInt(n / 6048e5); case "y": return t.getFullYear() - r.getFullYear() }return null }, function (e, t, r) { "use strict"; var n = [], a = function (e) { return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "") }, o = function (e, t, r) { if ("string" == typeof t) { if (void 0 === r) { var n = e.getAttribute(t); return n || (void 0 === e[t] ? n : e[t]) } e.setAttribute(t, r) } return e }, u = function (e, t) { var r = "ARTICLE ASIDE BODY CANVAS CENTER DIALOG DIR DIV FIELDSET FOOTER FORM HEADER H1 H2 H3 H4 H5 H6 HR IFRAME LEGEND MARQUEE MENU NAV OBJECT OL OPTGROUP OPTION OUTPUT P PRE SECTION TABLE UL".split(" "), n = "A ABBR ADDRESS B BDO BIG BLOCKQUOTE BR BUTTON CITE CODE COMMAND DEL DETAIL DFN EM FIGURE FONT I IMG INPUT INS KBD LABEL M METER PLAINTEXT PROGRESS Q QUOTE S SAMP SELECT SMALL SPAN STRIKE STRONG SUB SUP TEXTAREA TT U VAR".split(" "), a = "AREA AUDIO DATAGRID DATALIST DATATEMPLATE EMBED EVENT-SOURCE FRAME FRAMESET HEAD HTML LISTING MAP META NEST NOFRAMES NOSCRIPT PARAM RULE SCRIPT SOURCE STYLE nextID".split(" "), o = ["DD", "DT", "LI"], u = ["TABLE"], s = ["CAPTION"], i = ["TD", "TH"], l = ["TR"], c = ["TBODY"], f = ["COL"], p = ["COLGROUP"], g = ["THEAD"], d = ["TFOOT"]; return r.exists(e.tagName) ? e.css("display", t ? "block" : "none") : n.exists(e.tagName) ? e.css("display", t ? "inline" : "none") : o.exists(e.tagName) ? e.css("display", t ? "list-item" : "none") : u.exists(e.tagName) ? e.css("display", t ? "table" : "none") : s.exists(e.tagName) ? e.css("display", t ? "table-caption" : "none") : i.exists(e.tagName) ? e.css("display", t ? "table-cell" : "none") : l.exists(e.tagName) ? e.css("display", t ? "table-row" : "none") : c.exists(e.tagName) ? e.css("display", t ? "table-row-group" : "none") : f.exists(e.tagName) ? e.css("display", t ? "table-column" : "none") : p.exists(e.tagName) ? e.css("display", t ? "table-column-group" : "none") : g.exists(e.tagName) ? e.css("display", t ? "table-header-group" : "none") : d.exists(e.tagName) ? e.css("display", t ? "table-footer-group" : "none") : (a.exists(e.tagName), e) }, s = function (e) { var t = function (e, t, r, n) { for (var a = 0; a < e.length; a++)e[a][t](r, n); return e }, r = void 0 !== e && e ? e : []; r.bind = function (e, n) { return t(r, "bind", e, n) }, r.unbind = function (e, n) { return t(r, "unbind", e, n) }, r.attr = function (e, n) { return t(r, "attr", e, n) }, r.removeAttr = function (e) { return t(r, "removeAttr", e) }, r.val = function (e) { return void 0 === e ? n(r) : t(r, "val", e) }, r.html = function (e) { return t(r, "html", e) }, r.text = function (e) { return t(r, "text", e) }, r.css = function (e, n) { return t(r, "css", e, n) }, r.pos = function () { throw { message: "Not support!" } }, r.show = function () { return t(r, "show") }, r.hide = function () { return t(r, "hide") }, r.removeClass = function (e) { return t(r, "removeClass", e) }, r.addClass = function (e) { return t(r, "addClass", e) }, r.append = function (e) { return t(r, "append", e) }, r.insert = function (e, n) { return t(r, "insert", e, n) }, r.parent = function (e) { throw { message: "Not support!" } }, r.tags = function (e) { throw { message: "Not support!" } }; var n = function (e) { for (var t = "", r = 0; r < e.length; r++) { var n = o(e[r], "checked"); void 0 !== e[r].value && (void 0 !== e[r].checked && e[r].checked || "true" == n) && (t += ("" == t ? "" : ",") + e[r].value) } return t }; return r.value = n(e), r.each = function (e) { for (var t = 0; t < r.length; t++)"function" == typeof e && e(t, r[t]) }, r }, i = function (e) { var t = function () { var e = function (e) { return e + Math.floor(1e5 * Math.random()) }; return { insideComma: e("@insideComma"), outsideComma: e("@outsideComma"), slash: e("@slash"), backSlash: e("@backSlash"), leftSquareBracket: e("@leftSquareBracket"), rightSquareBracket: e("@rightSquareBracket"), singleQuotes: e("@singleQuotes"), doubleQuotes: e("@doubleQuotes") } }(), r = function (e) { var r = function (e) { return new RegExp(e, "g") }; return e.replace(r(t.insideComma), ",").replace(r(t.outsideComma), ",").replace(r(t.slash), "\\").replace(r(t.backSlash), "/").replace(r(t.leftSquareBracket), "[").replace(r(t.rightSquareBracket), "]").replace(r(t.singleQuotes), "'").replace(r(t.doubleQuotes), '"') }, n = function (e) { var r = e.match(/('[^']+')|("[^"]+")/g); if (r) for (var n = 0; n < r.length; n++) { var a = r[n], o = a.substr(1, a.length - 2).replace(/\,/g, t.insideComma).replace(/\\/g, t.slash).replace(/\//g, t.backSlash).replace(/\[/g, t.leftSquareBracket).replace(/\]/g, t.rightSquareBracket).replace(/'/g, t.singleQuotes).replace(/"/g, t.doubleQuotes); e = e.replace(a, o) } if (r = e.match(/\[([^\]]+)\]/g)) for (var n = 0; n < r.length; n++) { var a = r[n], o = a.replace(/\,/g, t.outsideComma); e = e.replace(a, o) } return e }(e).split(","), u = function (e, t) { return (" " + e.className + " ").indexOf(" " + t + " ") >= 0 }, s = function (e, t) { var n = "", a = null, u = function (u) { var s = t.indexOf(u); return s > 0 && (a = o(e, t.substr(0, s)), n = r(t.substr(s + u.length)), !0) }; return u("*=") ? a && a.indexOf(n) >= 0 : u("~=") ? !a || a.indexOf(n) < 0 : u("$=") ? a && a.lastIndexOf(n) == a.length - n.length : u("^=") ? a && 0 == a.indexOf(n) : u("!=") ? a != n : u("==") ? a && a == n : u("=") ? a && a == n : "" != t && !!o(e, t) }, i = function (e, r) { r = r.substr(1, r.length - 2); for (var n = !0, o = r.indexOf(t.outsideComma) >= 0 ? r.split(t.outsideComma) : r.split(","), u = 0; u < o.length; u++)n = n && s(e, a(o[u])); return n }; return n.each(function (e, t) { n[e] = a(t) }), { examClass: u, examAttrs: i, safeSpecifies: n } }, l = function (e, r) { for (var n = [], o = new i(r), u = o.safeSpecifies, l = function (e, t) { for (var r = [], n = 0; n < e.childNodes.length; n++)!!e.childNodes[n].tagName && e.childNodes[n].tagName.toUpperCase() == t.toUpperCase() && r.push(e.childNodes[n]); return r }, f = 0; f < u.length; f++) { for (var p = [e], g = [], d = u[f].replace(/\\/g, "/").replace(/\/\//g, "/\\").split(/\//g), m = 0; m < d.length; m++) { for (var h = 0; h < p.length; h++)g = g.concat(function (e, r) { var n = []; if (/^(\\?\w+)(\.\w+)?(\[[^\]]+\])?$/gi.test(a(r))) for (var u = "\\" == RegExp.$1.charAt(0), s = u ? RegExp.$1.substring(1) : RegExp.$1, i = RegExp.$2 ? RegExp.$2.replace(".", "") : "", f = RegExp.$3, p = u ? e.getElementsByTagName(s.toUpperCase()) : l(e, s), g = 0; g < p.length; g++)i && !o.examClass(p[g], i) || f && !o.examAttrs(p[g], f) || n.push(c(p[g], t)); return n }(p[h], (0 == m ? "\\" : "") + d[m])); m < d.length - 1 && (p = g) && (g = []) } for (var h = 0; h < g.length; h++)!n.exists(g[h]) && n.push(g[h]) } return s(n) }, c = function (e, t) { e.bind = function (t, r) { return e.attachEvent ? e.attachEvent("on" + t, r) : e.addEventListener ? e.addEventListener(t, r, !1) : e && void 0 !== e && (e[t] = r), e }, e.unbind = function (t, r) { return e.detachEvent ? e.detachEvent("on" + t, r) : e.addEventListener ? e.removeEventListener(t, r, !1) : e[t] = null, e }, e.attr = function (t, r) { return o(e, t, r) }, e.removeAttr = function (t) { return e.removeAttribute(t) || e }, e.val = function (t) { return void 0 === t ? e.value : 0 & (e.value = t) || e }, void 0 === e.html && (e.html = function (t) { return void 0 === t ? e.innerHTML : 0 & (e.innerHTML = t) || e }); var r = "function" == typeof e.getAttribute ? e.getAttribute("text") : null; return !r && "" !== r && void 0 === e.text && (e.text = function (t) { return "string" == typeof e.innerText ? void 0 === t ? e.innerText : 0 & (e.innerText = t) || e : "string" == typeof e.textContent ? void 0 === t ? e.textContent : 0 & (e.textContent = t) || e : e }), e.css = function (t, r) { if ("string" == typeof t && void 0 !== r) e.style[t] = r; else if ("string" == typeof t) return e.style[t]; return e }, e.pos = function () { var t = 0, r = 0, n = e; if (n && "function" == typeof n.getBoundingClientRect) var a = n.getBoundingClientRect(), o = n.ownerDocument, u = o.body, s = o.documentElement, t = (s.clientTop || u.clientTop, s.clientLeft || u.clientLeft, a.left + (self.pageXOffset || n && n.scrollLeft || u.scrollLeft)), r = a.top + (self.pageYOffset || n && n.scrollTop || u.scrollTop); else for (; n && (!n.tagName || "BODY" !== n.tagName.toUpperCase());)t += void 0 === n.offsetLeft ? 0 : parseInt(n.offsetLeft, 10), r += void 0 === n.offsetTop ? 0 : parseInt(n.offsetTop, 10), n = n.offsetParent; return { x: t, y: r } }, e.show = function () { return u(e, !0) }, e.hide = function () { return u(e, !1) }, e.removeClass = function (t) { return "string" == typeof t && (e.className = a((" " + e.className + " ").replace(" " + a(t) + " ", " "))), e }, e.addClass = function (t) { return "string" == typeof t && (e.removeClass(e, t), e.className = e.className + " " + a(t)), e }, e.append = function (r) { return void 0 !== r && r && (r = "string" == typeof r ? t.createTextNode(r) : r, 1 != r.nodeType && 3 != r.nodeType || e.appendChild(r)), e }, e.insert = function (r, n) { return void 0 !== r && r && (r = "string" == typeof r ? t.createTextNode(r) : r, 1 != r.nodeType && 3 != r.nodeType || (void 0 === n ? e.childNodes && e.childNodes.length > 0 ? e.insertBefore(r, e.childNodes[0]) : e.appendChild(r) : "number" == typeof n ? e.childNodes && e.childNodes.length > 0 ? e.insertBefore(r, e.childNodes[n]) : e.appendChild(r) : "object" == typeof n && void 0 !== n.nodeType && e.insertBefore(r, n))), e }, e.parent = function (t) { for (var r = e, n = new i(t), o = function (e, t) { if (/^(\\?\w+)(\.\w+)?(\[[^\]]+\])?$/gi.test(a(t))) { var r = "\\" == RegExp.$1.charAt(0), o = r ? RegExp.$1.substring(1) : RegExp.$1, u = RegExp.$2 ? RegExp.$2.replace(".", "") : "", s = RegExp.$3; if ((!o || e.tagName === o.toUpperCase()) && (!u || n.examClass(e, u)) && (!s || n.examAttrs(e, s))) return !0 } return null }; r && r.tagName && !function (e, t) { for (var r = 0; r < t.length; r++)if (o(e, t[r])) return !0; return !1 }(r, n.safeSpecifies);)r = "HTML" === r.tagName ? null : r.parentNode || r.parentElement; return r ? c(r, e.ownerDocument) : null }, e.tags = function (t) { return l(e, t) }, "object" == typeof $$.extentions && "function" == typeof $$.extentions[e.tagName] && $$.extentions[e.tagName](e), e._de = !0, e }, f = function (e) { var r = void 0 === arguments[1] ? t : "object" == typeof arguments[1] && "#document" == arguments[1].nodeName ? arguments[1] : null, n = { createReplacement: function () { var e = function (e) { return e + Math.floor(1e5 * Math.random()) }; return { blank: e("_blank"), singleQuotes: e("_singleQuotes"), doubleQuotes: e("_doubleQuotes") } }, replace: function (e, t) { var r = e.match(/('[^']+')|("[^"]+")/g); if (r) for (var n = 0; n < r.length; n++) { var a = r[n], o = a.substr(1, a.length - 2).replace(/ /g, t.blank).replace(/'/g, t.singleQuotes).replace(/"/g, t.doubleQuotes); e = e.replace(a, o) } return e.replace(/[ ]+/g, " ") }, restore: function (e, t) { var r = function (e) { return new RegExp(e, "g") }; return e.replace(r(t.blank), " ").replace(r(t.singleQuotes), "'").replace(r(t.doubleQuotes), '"') } }, a = n.createReplacement(); if ("string" == typeof e && /^<\w+[ ]?.*>$/.test(e)) { for (var u = e.substring(1, e.length - 1), s = n.replace(u, a), i = s.split(" "), l = r.createElement(i[0]), f = 1; f < i.length; f++) { var p = i[f], g = p.indexOf("="), d = g > 0 ? p.substr(0, g) : p, m = g > 0 ? p.substr(g + 1) : ""; m = !(g > 0) || ("" != m ? n.restore(m, a) : m), /^[a-zA-Z_-]+$/i.test(d) && o(l, d, m) } return c(l, r) } }, p = function () { if (arguments.length > 0) { for (var e = arguments[0], t = 0; t < arguments.length - 1; t++)e = e.replace(new RegExp("\\{" + t + "\\}", "g"), arguments[t + 1]); return e } return null }, g = function (e, r) { if ("string" != typeof e || "" == e) return ""; if (void 0 === r || 0 === r) return e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;"); if (1 === r) { return f("<p>").appendChild(t.createTextNode(e)).parentNode.innerHTML } return 2 === r ? e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/</g, "&lt;") : 3 === r ? e.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;").replace(/>/g, "&#62;") : void 0 }, d = function (e, t) { if ("string" != typeof e || "" == e) return ""; if (void 0 === t || 0 === t) return e.replace(/&gt;/g, ">").replace(/&lt;/g, "<").replace(/&apos;/g, "'").replace(/&quot;/g, '"').replace(/&amp;/g, "&"); if (1 === t) { var r = f("<p>").html(e); return r.innerText || r.textContent } return 2 === t ? e.replace(/&lt;/g, "<").replace(/&quot;/g, '"').replace(/&amp;/g, "&") : 3 === t ? e.replace(/&#38;/g, "&").replace(/&#34;/g, '"').replace(/&#39;/g, "'").replace(/&#60;/g, "<").replace(/&#62;/g, ">") : void 0 }, m = function (e) { var t = function (e) { var t = e.indexOf("="); return { name: t >= 0 ? e.substr(0, t) : e, value: t >= 0 ? e.substr(t + 1) : null } }, r = function (e, r) { if ("string" != typeof r); else for (var n = 0; n < e.length; n++) { var a = t(e[n]); if (a.name == r) return a.value } }, n = { url: e, filePath: "", fileDir: "", fileName: "", fileShortName: "", fileExt: "", query: "", queryValue: function (e) { return r(n.query.split("&"), e) }, hasParam: function (e) { return 0 == n.query.indexOf(e + "=") || n.query.indexOf("&" + e + "=") >= 0 } }; if ("string" == typeof e && e) { var a = e.indexOf("?"); n.filePath = a > 0 ? e.substring(0, a) : e, n.query = a > 0 ? e.substr(a + 1) : ""; var o = Math.max(n.filePath.lastIndexOf("/"), n.filePath.lastIndexOf("\\")); n.fileDir = o > 0 ? n.filePath.substr(0, o) : "", n.fileName = o > 0 ? n.filePath.substr(o + 1) : n.filePath, a = n.fileName.lastIndexOf("."), n.fileShortName = a > 0 ? n.fileName.substr(0, a) : n.fileName, n.fileExt = a > 0 ? n.fileName.substring(a) : "" } return n }, h = function (e, t, r, n, a) { var o = function (e, t) { if (void 0 !== e && void 0 !== t) for (var r in t) e[r] = t[r]; return e }, u = o({}, a), s = o({}, n), i = o({}, r); return o(e, o(o({}, t), o(i, o(s, u)))) }, b = function (t) { var r = function () { }, n = { url: "#", method: "GET", data: "", async: !0, timeout: 15e3, ontimeout: r, headers: [{ name: "Content-Type", value: "application/x-www-form-urlencoded" }], onsuccess: r, onerror: r }, a = function () { return !e.XMLHttpRequest || "file:" === e.location.protocol && e.ActiveXObject ? function () { for (var t = ["Msxml3.XMLHTTP", "Msxml2.XMLHTTP", "Microsoft.XMLHTTP"], r = 0; r < t.length; r++)try { return new e.ActiveXObject(t[r]) } catch (e) { continue } return null }() : new e.XMLHttpRequest }(); t = function (e, t) { for (var r in t) e[r] = void 0 === e[r] ? t[r] : e[r]; for (var n = 0; n < e.headers.length; n++)if ("content-type" == e.headers[n].name.toLowerCase()) return e; return e.headers.push(t.headers[0]), e }(t, n), a.open(t.method, t.url, t.async); for (var o = 0; o < t.headers.length; o++)a.setRequestHeader(t.headers[o].name, t.headers[o].value); try { a.timeout = t.timeout, a.ontimeout = t.ontimeout, a.onerror = t.onerror } catch (e) { } a.onreadystatechange = function () { 4 === a.readyState && t.onsuccess({ status: a.status, response: a.response, type: a.responseType, xml: a.responseXML, text: a.responseText, body: a.responseBody }) }, a.send(t.data) }; t.ready = function (e) { "function" == typeof e && n.push(e) }, t.path = m(t.location.href), e.onload = function () { for (var e = 0; e < n.length; e++)n[e].call(t) }, e.$e = function (e) { var r = void 0 === arguments[1] ? t : "object" == typeof arguments[1] && "#document" == arguments[1].nodeName ? arguments[1] : null; if ("object" == typeof e && e) return 1 == e.nodeType || 3 == e.nodeType || e.nodeName == r.nodeName ? c(e, r) : null; if ("string" == typeof e) { if ("*" == e.charAt(0)) { for (var n = r.getElementsByName(e.substr(1)), a = 0; a < n.length; a++)!0 === o(n[a], "_de") || c(n[a], r); return s(n) } if (/^<\w+.*>$/.test(e)) return f(e, r); var u = r.getElementById(e); return u && 1 == u.nodeType ? !0 === o(u, "_de") ? u : c(u, r) : null } }, e.$tags = function (e, r) { return void 0 !== typeof r && r ? $e(r.documentElement).tags(e) : $e(t.documentElement).tags(e) }, e.$t = e.$tags, e.$$ = { create: f, format: p, htmlEncode: g, htmlDecode: d, url2Object: m, merge: h, extentions: {}, ajax: b } }(window, document);